# ============================================
# AI Visibility Tracker - Backend Configuration
# ============================================

# ----------------------------------------
# Server Configuration
# ----------------------------------------
PORT=5001
NODE_ENV=development
# NODE_ENV=production

# ----------------------------------------
# Frontend URL (Required in production)
# ----------------------------------------
FRONTEND_URL=http://localhost:3000
# FRONTEND_URL=https://ai-visibility-tracker-liart.vercel.app

# ----------------------------------------
# OpenAI Configuration (Required)
# ----------------------------------------
OPENAI_API_KEY=your_openai_api_key_here
OPENAI_MODEL=gpt-3.5-turbo
OPENAI_MAX_TOKENS=600
OPENAI_TEMPERATURE=0.7
OPENAI_TIMEOUT=30000

# ----------------------------------------
# Redis Configuration (Optional)
# ----------------------------------------
# Set REDIS_ENABLED=false to disable Redis and use direct execution
REDIS_ENABLED=true
REDIS_HOST=127.0.0.1
REDIS_PORT=6379
REDIS_CONNECTION_TIMEOUT=5000

# ----------------------------------------
# Queue Configuration
# ----------------------------------------
QUEUE_MAX_ATTEMPTS=3
QUEUE_BACKOFF_DELAY=2000
QUEUE_REMOVE_ON_COMPLETE=false
QUEUE_REMOVE_ON_FAIL=false

# ----------------------------------------
# Processing Configuration
# ----------------------------------------
# Number of prompts to generate per tracking session
DEFAULT_PROMPT_COUNT=5
MAX_PROMPT_COUNT=20

# Delay between API calls (milliseconds) - prevents rate limiting
RATE_LIMIT_DELAY=300

# Parallel execution (faster but uses more resources)
# Set to true to enable parallel processing of prompts
PARALLEL_EXECUTION=false
MAX_CONCURRENT_REQUESTS=3

# ----------------------------------------
# Retry Configuration
# ----------------------------------------
RETRY_MAX_ATTEMPTS=3
RETRY_BASE_DELAY=1000
RETRY_MAX_DELAY=10000
RETRY_TIMEOUT=30000

# ----------------------------------------
# Circuit Breaker Configuration
# ----------------------------------------
CIRCUIT_BREAKER_THRESHOLD=5
CIRCUIT_BREAKER_RESET=60000

# ----------------------------------------
# Storage Configuration
# ----------------------------------------
DATA_RETENTION_DAYS=90
STORAGE_AUTOCLEANUP=true

# ----------------------------------------
# Validation Configuration
# ----------------------------------------
MAX_BRANDS_PER_TRACKING=10
MAX_COMPETITORS_PER_TRACKING=5
MIN_CATEGORY_LENGTH=2
MAX_CATEGORY_LENGTH=100
